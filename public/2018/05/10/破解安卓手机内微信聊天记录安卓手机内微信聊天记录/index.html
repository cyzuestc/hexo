<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 破解安卓手机内微信聊天记录 · 陈昀钊</title><meta name="description" content="破解安卓手机内微信聊天记录 - 陈昀钊"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yzchen.com/atom.xml" title="陈昀钊"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://www.uestc.edu.cn/" target="_blank" class="nav-list-link">UNIVERSITY</a></li><li class="nav-list-item"><a href="https://github.com/cyzuestc" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="http://bbs.uestc.edu.cn/" target="_blank" class="nav-list-link">清水河畔</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">破解安卓手机内微信聊天记录</h1><div class="post-info">May 10, 2018</div><div class="post-content"><h1 id="6-8号更新"><a href="#6-8号更新" class="headerlink" title="6.8号更新"></a>6.8号更新</h1><p>手机换了之后,重新root需要清除数据,所以不想再折腾手机,于是准备换用模拟器.<br>先用的网易mumu,但装过微信就一直闪退.所以换作夜神模拟器.<br>夜神模拟器连接adb的方法是:<br>1.打开夜神模拟器，打开设置，调成手机模式，初次进入的话，进入设置，点击版本号5次，可以激活使用开发者模式，进入后打开USB调试功能</p>
<p>2.打开文件资源管理器，进入夜神模拟器的安装位置，在地址栏输入cmd，回车，会打开cmd窗口，进入的路径就是夜神模拟器的安装位置。我的默认安装位置：C:\Program Files (x86)\Nox\bin</p>
<p>3.输入nox_adb.exe connect 127.0.0.1:62001即可以连接到adb</p>
<p>或者是 adb connect 127.0.0.1:52001</p>
<p>adb connect 127.0.0.1:62001</p>
<ol start="4">
<li>输入adb shell 即可操作</li>
</ol>
<h1 id="why"><a href="#why" class="headerlink" title="why"></a>why</h1><p>微信不支持云同步, 换了手机聊天记录都没了.一直都有想要把微信记录备份下来的想法. 虽然微信客户可以备份,但不能查看,所以今早花了2个小时研究了一下. 主要参考了两个文章:<a href="https://blog.csdn.net/jiangwei0910410003/article/details/52238891" target="_blank" rel="noopener">逆向之旅</a>和<a href="https://blog.csdn.net/f2006116/article/details/51073202" target="_blank" rel="noopener">Android 获取取手机中微信聊天记录</a></p>
<h1 id="安装adb-获取数据库"><a href="#安装adb-获取数据库" class="headerlink" title="安装adb,获取数据库"></a>安装adb,获取数据库</h1><p>.db文件无法在手机中找到,所以先安装了adb,<img src="https://img-blog.csdn.net/20160819140615444?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="图片"><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">adb shell</span><br><span class="line">su</span><br><span class="line">//下面就是数据库存放的位置</span><br><span class="line">cd /data/data/com.tencent.mm/MicroMsg/a375d47ad7f69337779a1b7ea3638a76/EnMicroMsg.db</span><br><span class="line">//将数据库从手机中copy出来,此操作不能在shell中进行 需exit退出到cmd中</span><br><span class="line">adb pull /data/data/com.tencent.mm/MicroMsg/a375d47ad7f69337779a1b7ea3638a76/EnMicroMsg.db /User/cyz/Desktop</span><br></pre></td></tr></table></figure></p>
<h1 id="破解数据库库"><a href="#破解数据库库" class="headerlink" title="破解数据库库"></a>破解数据库库</h1><p>我们拿到的是SQLite数据库,并被加了密.可以用sqlcipher.exe软件解密,<a href="http://7xivx9.com1.z0.glb.clouddn.com/wxsqlcipher.exe" target="_blank" rel="noopener">点此下载</a>.<br>密码的组成为:IMEI + 微信UIN 的 MD5值（32位小写）前7位.</p>
<ol>
<li>获取IMEI码:手机拨号输入 *#06# 显示出来的即是所需 IMEI</li>
<li>登陆微信网页版, 打开F12并用微信发送一条消息,搜索uin就能看到自己的uin码,一般是9位.<br>到此,我们获取了设备的 IMEI(如12345) 和 微信账号的 UIN(如67890) 码，下面来计算 32 位 MD5 消息摘要值，使用 MD5 在线加密的网站就可以，则要加密的字符串为 IMEI+UIN，即 1234567890，加密后就会得到四种 MD5 值，我们需要的是32位长度小写的.<br>取该 MD5 值前 7 位，即为密钥。接下来，打开 sqlcipher.exe ，File-&gt;Open Database， 选择 EnMicroMsg.db 文件，打开后就可以看到让我们输入密钥，输入刚才的7位密钥，点击OK.<br>我们的聊天记录在表message中, 切换到Browse Data,然后切换到message表,就可以看到所有的聊天记录了. 点击File&gt;export&gt;CSV就可以把数据导出来了.excel可以直接读取.<h1 id="写在后面"><a href="#写在后面" class="headerlink" title="写在后面"></a>写在后面</h1>简单的操作, 理解其中的逻辑, 一步一步做出结果, 还是有些小难度的, 但做出来也很有成就感!</li>
</ol>
</div></article></div></main><footer><div class="paginator"><a href="/2018/05/10/删除excel多余100多w的空行/" class="prev">PREV</a><a href="/2018/05/08/init-param-与-context-param/" class="next">NEXT</a></div><div class="copyright"><p>© 2018 powered by <a href="https://github.com/cyzuestc" target="_blank">Chenyunzhao</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>