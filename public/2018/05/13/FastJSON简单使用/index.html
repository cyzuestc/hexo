<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> FastJSON简单使用 · 陈昀钊</title><meta name="description" content="FastJSON简单使用 - 陈昀钊"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="search" type="application/opensearchdescription+xml" href="http://yzchen.com/atom.xml" title="陈昀钊"></head><body><div class="wrap"><header><a href="/" class="logo-link"><img src="/favicon.png" alt="logo"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://www.uestc.edu.cn/" target="_blank" class="nav-list-link">UNIVERSITY</a></li><li class="nav-list-item"><a href="https://github.com/cyzuestc" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="http://bbs.uestc.edu.cn/" target="_blank" class="nav-list-link">清水河畔</a></li></ul></header><main class="container"><div class="post"><article class="post-block"><h1 class="post-title">FastJSON简单使用</h1><div class="post-info">May 13, 2018</div><div class="post-content"><h1 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h1><p>根据<a href="https://github.com/UESTC-BBS/API-Docs/wiki/Mobcent-API#apphash-%E5%BF%85%E5%A1%AB" target="_blank" rel="noopener">api</a>想做一个实时读取论坛信息的小程序,读取api之后需解析json, 之前亚辉说过FastJSON比较好用, 所以就用到了<a href="https://blog.csdn.net/flysun3344/article/details/54707965" target="_blank" rel="noopener">这个</a>学习了教程. 用完之后总结记录一下.</p>
<h2 id="FastJSON"><a href="#FastJSON" class="headerlink" title="FastJSON"></a>FastJSON</h2><p>FastJSON是一个Java语言编写的高性能，功能完善，完全支持<a href="http://json.org的标准的JSON库" target="_blank" rel="noopener">http://json.org的标准的JSON库</a>.<br>如果使用Maven,在pom.xml文件中加入以下依赖.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;com.alibaba&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;fastjson&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.1.23&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure></p>
<h2 id="序列化"><a href="#序列化" class="headerlink" title="序列化"></a>序列化</h2><p>一直觉得序列化很神秘, 用过才发现序列化就是把JavaBean对象转成JSON格式的字符串。<br>com.alibaba.fastjson.JSON提供了许多方法（多态）实现序列化。</p>
<h3 id="例1"><a href="#例1" class="headerlink" title="例1"></a>例1</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Map&lt;String, Object&gt;&gt; list = new ArrayList&lt;Map&lt;String, Object&gt;&gt;();</span><br><span class="line">        </span><br><span class="line">Map&lt;String, Object&gt; map1 = new HashMap&lt;String, Object&gt;();</span><br><span class="line">map1.put(&quot;key1&quot;, &quot;One&quot;);</span><br><span class="line">map1.put(&quot;key2&quot;, &quot;Two&quot;);</span><br><span class="line">        </span><br><span class="line">Map&lt;String, Object&gt; map2 = new HashMap&lt;String, Object&gt;();</span><br><span class="line">map2.put(&quot;key1&quot;, &quot;Three&quot;);</span><br><span class="line">map2.put(&quot;key2&quot;, &quot;Four&quot;);</span><br><span class="line">        </span><br><span class="line">list.add(map1);</span><br><span class="line">list.add(map2);</span><br><span class="line">        </span><br><span class="line">String listJson = JSON.toJSONString(list);</span><br></pre></td></tr></table></figure>
<p>输出结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[&#123;&quot;key1&quot;:&quot;One&quot;,&quot;key2&quot;:&quot;Two&quot;&#125;,&#123;&quot;key3&quot;:&quot;Three&quot;,&quot;key4&quot;:&quot;Four&quot;&#125;]</span><br></pre></td></tr></table></figure></p>
<h3 id="例2"><a href="#例2" class="headerlink" title="例2"></a>例2</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">User user = new User();</span><br><span class="line">user.setUserName(&quot;李四&quot;);</span><br><span class="line">user.setAge(24);</span><br><span class="line">        </span><br><span class="line">String userJson = JSON.toJSONString(user);</span><br></pre></td></tr></table></figure>
<p>输出结果<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&quot;age&quot;:24,&quot;userName&quot;:&quot;李四&quot;&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="反序列化"><a href="#反序列化" class="headerlink" title="反序列化"></a>反序列化</h2><p> 反序列化就是把JSON格式的字符串转化为Java Bean对象。<br>com.alibaba.fastjson.JSON提供了许多方法（多态）实现反序列化。</p>
<h3 id="将例1反序列化"><a href="#将例1反序列化" class="headerlink" title="将例1反序列化"></a>将例1反序列化</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Map&gt; list1 = JSON.parseArray(listJson, Map.class);</span><br><span class="line">         </span><br><span class="line">for(Map&lt;String, Object&gt; map : list1)&#123;</span><br><span class="line">    System.out.println(map.get(&quot;key1&quot;));</span><br><span class="line">    System.out.println(map.get(&quot;key2&quot;));         </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="JSONObject，JSONArray"><a href="#JSONObject，JSONArray" class="headerlink" title="JSONObject，JSONArray"></a>JSONObject，JSONArray</h2><p>JSONObject，JSONArray是JSON的两个子类。</p>
<p>JSONObject相当于Map&lt;String, Object&gt;，</p>
<p>JSONArray相当于List<object>。</object></p>
</div></article></div></main><footer><div class="paginator"><a href="/2018/05/15/idea编译项目为jar/" class="prev">PREV</a><a href="/2018/05/12/linux下安装java环境配置步骤详述/" class="next">NEXT</a></div><div class="copyright"><p>© 2018 powered by <a href="https://github.com/cyzuestc" target="_blank">Chenyunzhao</a>.</p></div></footer></div><script async src="//cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML" integrity="sha384-crwIf/BuaWM9rM65iM+dWFldgQ1Un8jWZMuh3puxb8TOY9+linwLoI7ZHZT+aekW" crossorigin="anonymous"></script></body></html>