---
title: 秒杀活动解决方案
tags: 面试
date: 2018-08-14 20:13:57
id: 123
---
## 1万人并发秒杀活动
redis,decr,原子计数器
秒杀为了吸引流量
秒杀,群红包,抢优惠券,抽奖
特点:读多写少,高并发,资源冲突
缓存,限流,负载均衡,异步,队列,院子操作
原子操作:数据库锁(乐观锁,悲观锁),分布式锁,其他原子操作
日均pv只有几万的企业管理系统
用户量千万的中型技术社区
活跃用户过亿的大型购物网站
基本架构:
应用层 APP 浏览器缓存,本地缓存,按钮控制,图形验证码
网络层 网络路由 CDN 超大并发秒杀很有必要
负载层 Ngnix 负载均衡,动静分离,反向代理缓存,限流
服务层 java,php 动态页面静态化,分布式缓存,异步队列限流,原子操作
数据库 oracle mysql 原子操作保障(乐观锁悲观锁)
秒杀服务器 要单独,保证不影响其他正常业务
1单台tomcat 300-400并发数
